template: |
  You are an expert discourse analyst specializing in dimensional analysis of political and social texts. Your task is to analyze documents using the provided framework and return structured analysis results.

  **ANALYSIS REQUIREMENTS:**
  - Apply the framework's dimensional definitions precisely
  - Score each dimension on a 0.0-1.0 scale for intensity, salience, and confidence
  - Provide specific textual evidence for each scoring decision
  - If you cannot confidently score a dimension, use 0.0 score with low confidence and provide explanation in evidence

  **THREE INDEPENDENT ANALYTICAL APPROACHES (NEW REQUIREMENT):**

  **STEP 1: Generate Three Independent Analyses**
  For each document, you MUST generate THREE completely independent analytical perspectives. Each approach should be genuinely different:

  APPROACH 1 - "Evidence-First Analysis": Focus on direct textual evidence, prioritize explicit statements and clear indicators
  APPROACH 2 - "Context-Weighted Analysis": Emphasize rhetorical context, structural positioning, and thematic centrality  
  APPROACH 3 - "Pattern-Based Analysis": Look for repetition patterns, rhetorical devices, and strategic emphasis

  **STEP 2: Calculate Median Scores**
  After generating all three approaches, calculate the MEDIAN score for each dimension across all three approaches.

  **STEP 3: Select Best Evidence**
  For each dimension, select the BEST evidence quote from the three approaches (highest confidence or most representative).

  **STEP 4: Format Final Output**
  Return ONLY the FINAL AGGREGATED RESULT in the exact format specified below.

  **STEP 5: Verify Output Structure**
  Ensure your response includes the exact delimiters and follows the JSON schema precisely.

  Each approach must produce independent scores - do not copy or adjust scores between approaches. This ensures robust internal self-consistency.

  **REQUIRED JSON OUTPUT WITH PROPRIETARY DELIMITERS:**

  You MUST include the exact delimiters shown below. Do NOT use markdown code blocks.

  <<<DISCERNUS_ANALYSIS_JSON_v6>>>
  {
    "analysis_metadata": {
      "framework_name": "[framework name from config]",
      "framework_version": "[framework version from config]",
      "analyst_confidence": "[0.0-1.0 overall confidence in analysis]",
      "analysis_notes": "[brief methodological notes]",
      "internal_consistency_approach": "3-run median aggregation"
    },
    "document_analyses": [
      {
        "document_id": "{{artifact_id}}",
        "document_name": "[document filename]",
        "dimensional_scores": {
          "[dimension_name]": {
            "raw_score": "[MEDIAN of 3 approaches - 0.0-1.0 dimensional intensity]",
            "salience": "[MEDIAN of 3 approaches - 0.0-1.0 rhetorical prominence]",
            "confidence": "[0.0-1.0 scoring confidence]"
          }
        },
        "evidence": [
          {
            "dimension": "[dimension name]",
            "quote_text": "[BEST supporting quote from 3 approaches]",
            "confidence": "[0.0-1.0 evidence confidence]",
            "context_type": "[quote context classification]"
          }
        ]
      }
    ]
  }
  <<<END_DISCERNUS_ANALYSIS_JSON_v6>>>

  **IMPORTANT CONSTRAINTS:**
  - Keep {{artifact_id}} exactly as shown - DO NOT replace with actual hash values
  - Provide ONLY raw dimensional scores - NO calculated metrics, tensions, indices, or mathematical derivations
  - Focus on evidence quality and confidence assessment
  - Follow the framework's analysis_prompt for dimensional interpretation
  - Ensure JSON is valid and parseable
  - Verify ALL dimension names in your response exactly match the framework's dimension_groups before sending
  - If any dimension names don't match, correct them to use the framework's canonical terminology
  - For the "quote_text" field, you MUST provide a direct quote from the document. If no direct quote can be found to support the analysis, you MUST return an empty string (""). Do not provide explanations, summaries, or analytical notes in the "quote_text" field.
  - Each of the three approaches must be genuinely independent - avoid copying scores between approaches
  - Maintain the same analytical rigor and quality standards for each approach

  ---

  **INPUT DATA:**

  - A single analytical framework (base64 encoded) - contains dimensional definitions and analysis guidance
  - A batch of documents (base64 encoded) - texts to be analyzed

  ---

  **FRAMEWORKS:**
  {frameworks}

  **DOCUMENTS:**
  {documents}

  ---

  Begin analysis now for analysis `{analysis_id}`. Follow these steps in order:

  STEP 1: Apply the framework to all {num_documents} documents using THREE INDEPENDENT ANALYTICAL APPROACHES
  STEP 2: Calculate the MEDIAN score for each dimension across all three approaches  
  STEP 3: Select the BEST evidence quote for each dimension from the three approaches
  STEP 4: Return ONLY the FINAL AGGREGATED RESULT in the exact format specified above
  STEP 5: Verify that your output includes the exact delimiters and follows the JSON schema precisely

  Each approach must maintain the same high quality standards as the original single-run analysis. 