# ================================================================
# EXPERIMENT 01: CORE REPLICATION (RQ 1.1)
# Tamaki & Fuks (2019) Methodology Replication
# ================================================================

name: "Exp 01: Core Replication - Tamaki & Fuks (2019)"
version: "v1.0"
description: |
  A focused experiment to validate the core research question (RQ 1.1) from the BYU_MASTER_RESEARCH_PLAN.md.
  This experiment replicates the original Tamaki & Fuks (2019) methodology using computational analysis on full speech transcripts.
  
  **Research Question 1.1**: Can our computational analysis achieve r > 0.80 correlation with the original manual human coding of Bolsonaro's populism scores?

# ================================================================
# EXPERIMENT METADATA
# ================================================================
experiment_meta:
  name: "byu_exp_01_core_replication"
  display_name: "BYU Core Replication - Tamaki & Fuks (2019)"
  version: "1.0"
  description: "Core replication experiment to validate computational analysis against manual human coding of Brazilian populist discourse"
  tags: ["replication", "validation", "populism", "brazil", "tamaki_fuks"]
  
  study_design:
    comparison_type: "multi_model"
    corpus_based: true
    statistical_validation: true
    sample_size_target: 12
    statistical_methods:
      - "geometric_similarity"
      - "dimensional_correlation"
      - "hypothesis_testing"

master_plan_reference: "BYU_MASTER_RESEARCH_PLAN.md"
research_question: "RQ 1.1: Core Replication"
theoretical_basis: "Tamaki & Fuks (2019) competitive populism framework"
target_correlation: 0.80
success_threshold: "r > 0.80 with manual coding scores"

# ================================================================
# FRAMEWORK CONFIGURATION (Framework Specification v3.2 Compliant)
# ================================================================
framework:
  name: "democratic_tension_axis_model_brazil_2018"
  version: "v3.2"
  description: |
    A computational framework for analyzing Brazilian political discourse based on the theoretical 
    foundation established by Tamaki & Fuks (2019). This framework operationalizes the competitive 
    dynamics between populist and pluralist democratic orientations, as well as between patriotic 
    civic attachment and nationalist identity-based appeals in the context of Brazilian political discourse.

  # ================================================================
  # COMPONENT REGISTRY (v3.2 Required - All anchors defined once)
  # ================================================================
  components:
    populism:
      component_id: populism
      type: anchor
      description: "Direct popular sovereignty, anti-elite rhetoric, Manichaean worldview"
      angle: 90  # Top of circle (high vertical)
      weight: 1.0
      core_indicators:
        - "anti-elite rhetoric"
        - "people-centrism"
        - "Manichaean worldview"
        - "popular sovereignty claims"
        - "institutional dismissal"
      language_cues:
        - "o povo"
        - "vontade popular"
        - "elite corrupta"
        - "classe política"
        - "estabelecimento"
        - "nós contra eles"
        - "povo brasileiro"
        - "cidadãos de bem"

    pluralism:
      component_id: pluralism
      type: anchor
      description: "Institutional mediation, diverse representation, expert knowledge valorization"
      angle: 270  # Bottom of circle (low vertical)
      weight: 1.0
      core_indicators:
        - "institutional respect"
        - "diverse representation"
        - "expert knowledge valorization"
        - "procedural emphasis"
        - "compromise advocacy"
      language_cues:
        - "instituições"
        - "especialistas"
        - "diversidade de perspectivas"
        - "processo democrático"
        - "freios e contrapesos"
        - "princípios constitucionais"

    nationalism:
      component_id: nationalism
      type: anchor
      description: "Emphasis on ethnic/cultural identity, national supremacy claims"
      angle: 0  # Right of circle (high horizontal)
      weight: 1.0
      core_indicators:
        - "ethnic identity focus"
        - "cultural supremacy claims"
        - "national superiority"
        - "boundary marking"
        - "identity-based appeals"
      language_cues:
        - "a nação"
        - "pátria"
        - "Brasil acima de tudo"
        - "verde e amarelo"
        - "bandeira nacional"
        - "hino nacional"
        - "orgulho nacional"
        - "identidade brasileira"

    patriotism:
      component_id: patriotism
      type: anchor
      description: "Civic attachment to political institutions and constitutional values"
      angle: 180  # Left of circle (low horizontal)
      weight: 1.0
      core_indicators:
        - "constitutional attachment"
        - "civic values"
        - "institutional pride"
        - "legal framework respect"
        - "inclusive citizenship"
      language_cues:
        - "constituição"
        - "valores democráticos"
        - "estado de direito"
        - "dever cívico"
        - "direitos constitucionais"
        - "instituições democráticas"

  # ================================================================
  # AXES (Reference exactly 2 anchors each - polar constraint)
  # ================================================================
  axes:
    Populism_Pluralism:
      component_id: populism_pluralism_axis
      anchor_ids: [populism, pluralism]  # Exactly 2 anchors
      description: "Vertical dimension of democratic legitimacy: Direct popular sovereignty vs. institutional mediation"
      axis_type: bipolar
      theoretical_basis: "Tension between direct popular will (populism) and institutional representation/pluralism (Mudde 2004, Tamaki & Fuks 2019)"
      pole_a: populism
      pole_b: pluralism

    Patriotism_Nationalism:
      component_id: patriotism_nationalism_axis
      anchor_ids: [patriotism, nationalism]  # Exactly 2 anchors
      description: "Horizontal dimension of national identity: Civic attachment vs. ethnic/cultural supremacy"
      axis_type: bipolar
      theoretical_basis: "Distinction between civic nationalism and ethnic nationalism (Brubaker 2020, Hawkins et al. 2010)"
      pole_a: patriotism
      pole_b: nationalism

  # ================================================================
  # COORDINATE SYSTEM (v3.2 Required)
  # ================================================================
  coordinate_system:
    type: circle
    radius: 1.0
    weighting_modeling: false
    description: "Orthogonal two-axis coordinate system optimized for Brazilian political discourse analysis"
    layout_strategy: orthogonal_quadrants

  # ================================================================
  # ALGORITHM CONFIGURATION (v3.2 Required)
  # ================================================================
  algorithm_config:
    dominance_amplification:
      enabled: false
      rationale: "Preserving T&F methodology compatibility with 0-2 scoring scale"
    adaptive_scaling:
      enabled: true
      base_scaling: 0.5
      max_scaling: 1.0
      methodology: "Scale-preserving analysis for direct T&F comparison"

  # ================================================================
  # THEORETICAL FOUNDATION (v3.2 Required)
  # ================================================================
  theoretical_foundation:
    primary_sources:
      - "Tamaki, E. R., & Fuks, M. (2019). Populism in Brazil's 2018 General Elections"
      - "Mudde, C. (2004). The Populist Zeitgeist. Government and Opposition"
      - "Brubaker, R. (2020). Populism and nationalism. Nations and Nationalism"
    theoretical_approach: |
      Orthogonal dimensional analysis resolving crowding-out effects in competitive anchor models.
      Enables independent measurement of democratic tensions (Populism↔Pluralism) and national identity 
      orientations (Patriotism↔Nationalism).

# Enhanced prompt guidance for Brazilian political discourse (LLM-Optimized Structure)
prompt_guidance:
  # UNIFIED EXPERT CONTEXT (Cognitive Priming in Portuguese - matches text language)
  role_definition: |
    Você é um especialista em análise de discurso político brasileiro com profundo conhecimento das tensões democráticas contemporâneas, teoria populista, e identidade nacional. Você possui expertise específica na metodologia de Tamaki & Fuks (2019) e nas dinâmicas políticas do Brasil.
    
    Sua tarefa é analisar discursos políticos brasileiros usando o Modelo de Eixos de Tensão Democrática, focando em quatro dimensões: Populismo, Pluralismo, Nacionalismo, e Patriotismo.

  # FRAMEWORK APPLICATION (Clear methodology in Portuguese)
  framework_summary_instructions: |
    **METODOLOGIA DE ANÁLISE:**
    
    Use o Modelo de Eixos de Tensão Democrática com dois eixos ortogonais:
    - **Eixo Vertical (Populismo ↔ Pluralismo)**: Soberania popular direta versus mediação institucional
    - **Eixo Horizontal (Patriotismo ↔ Nacionalismo)**: Apego cívico constitucional versus identidade étnica/cultural
    
    Avalie cada eixo independentemente para evitar efeitos de halo, focando nos indicadores linguísticos específicos definidos no framework.

  # DETAILED ANALYSIS INSTRUCTIONS (Comprehensive guidance)
  analysis_methodology: |
    **INSTRUÇÕES DETALHADAS DE ANÁLISE:**
    
    **Para Populismo** (ângulo 90°):
    - Procure por: retórica anti-elite, centralidade do povo, visão maniqueísta
    - Indicadores-chave: "o povo", "elite corrupta", "nós contra eles", "povo brasileiro", "cidadãos de bem"
    - Foque em: apelos à soberania popular direta, desconfiança institucional
    
    **Para Pluralismo** (ângulo 270°):
    - Procure por: respeito institucional, representação diversa, valorização de especialistas
    - Indicadores-chave: "instituições", "especialistas", "processo democrático", "freios e contrapesos"
    - Foque em: mediação institucional, compromisso, diversidade de perspectivas
    
    **Para Nacionalismo** (ângulo 0°):
    - Procure por: identidade étnica/cultural, supremacia nacional, apelos identitários
    - Indicadores-chave: "a nação", "pátria", "Brasil acima de tudo", "identidade brasileira", "orgulho nacional"
    - Foque em: superioridade cultural, definições excludentes de nacionalidade
    
    **Para Patriotismo** (ângulo 180°):
    - Procure por: apego cívico constitucional, valores democráticos, identidade inclusiva
    - Indicadores-chave: "constituição", "valores democráticos", "estado de direito", "instituições democráticas"
    - Foque em: orgulho institucional, cidadania inclusiva, princípios constitucionais

  # SCORING PRECISION (Clear scale with examples)
  scoring_requirements: |
    **ESCALA DE PONTUAÇÃO (0.0-1.0):**
    
    - **0.0-0.2**: Ausente ou negligível - dimensão não aparece ou é contradita
    - **0.3-0.4**: Presente mas fraco - alguns indicadores, papel secundário
    - **0.5-0.6**: Moderadamente presente - relevante mas não dominante
    - **0.7-0.8**: Fortemente presente - múltiplos indicadores, papel importante
    - **0.9-1.0**: Dominante - central ao discurso, múltiplos indicadores fortes
    
    **IMPORTANTE**: Use valores decimais precisos (ex: 0.3, 0.7, 0.8) baseados na força real dos indicadores no texto. Avalie cada dimensão independentemente.

  # JSON OUTPUT FORMAT (Clear structure with Portuguese examples)
  json_format_instructions: |
    Retorne um objeto JSON com as quatro dimensões. Cada entrada deve conter:
    
    ```json
    {
      "Populism": {
        "score": 0.8,
        "evidence": "[citação direta do texto em português]",
        "reasoning": "[justificativa breve focando nos indicadores do framework]"
      },
      "Pluralism": {
        "score": 0.2,
        "evidence": "[citação ou 'ausente/pouco presente']",
        "reasoning": "[explicação da ausência ou presença fraca]"
      },
      "Nationalism": {
        "score": 0.6,
        "evidence": "[citação direta do texto]",
        "reasoning": "[justificativa com base nos indicadores linguísticos]"
      },
      "Patriotism": {
        "score": 0.3,
        "evidence": "[citação ou explicação da presença limitada]",
        "reasoning": "[justificativa baseada no framework]"
      }
    }
    ```
    
    **CRÍTICO**: Sempre inclua evidência textual em português e raciocínio baseado nos indicadores específicos do framework.

scoring_approach:
  scale: "0-1 (matching API expectations)"

# ================================================================  
# EXPERIMENTAL CONDITION
# ================================================================
experimental_condition:
  name: "Full Context Analysis (Replicates BYU Methodology)" 
  description: "Complete rally transcripts with all speakers and contextual elements are analyzed to replicate the original BYU methodology."
  method: "full_transcript"
  process: |
    - Analyze complete rally transcripts with all contextual elements.
    - Includes crowd reactions, other speakers, musical elements.
    - Replicates BYU original methodology approach for direct comparison.

# ================================================================
# CORPUS SPECIFICATION (12 BOLSONARO SPEECHES)
# ================================================================
corpus:
  source_type: "directory_collection"
  file_path: "0_workspace/byu_populism_project/populism in brazil 2018/speeches-zip/rev-transcripts/"
  pattern: "*.txt"
  sampling_strategy: "all"
  total_expected_texts: 11

# ================================================================
# ANALYSIS CONFIGURATION
# ================================================================
models:
  comparison_set: "testing_ensemble"  # Use cheapo models for initial pipeline testing
  
  flagship_models:  # Key name expected by experiment runner
    openai_efficient:
      model_id: "gpt-4o-mini"
      provider: "openai"
      tier: "efficient"
      enabled: true
      estimated_cost_per_analysis: 0.003  # ~10x cheaper than GPT-4o
      
    anthropic_efficient:
      model_id: "claude-3-haiku-20240307"
      provider: "anthropic"
      tier: "efficient"
      enabled: true
      estimated_cost_per_analysis: 0.004  # ~5x cheaper than Claude-3.5-Sonnet

# NOTE: After successful testing, upgrade to actual flagship models:
# flagship_models:
#   openai_flagship:
#     model_id: "gpt-4o"
#     provider: "openai"
#     tier: "flagship"
#     enabled: true
#     estimated_cost_per_analysis: 0.015
#     
#   anthropic_flagship:
#     model_id: "claude-3-5-sonnet-20241022"
#     provider: "anthropic"
#     tier: "flagship"
#     enabled: true
#     estimated_cost_per_analysis: 0.018
#     
# portuguese_specialized:
#   openeurollm_portuguese:
#     model_id: "jobautomation/OpenEuroLLM-Portuguese"
#     provider: "ollama"
#     tier: "specialized"
#     enabled: true
#     estimated_cost_per_analysis: 0.000

# ================================================================
# STATISTICAL VALIDATION PROTOCOL  
# ================================================================
statistical_analysis:
  primary_methods:
    geometric_similarity:
      enabled: true
      metrics: ["euclidean_distance", "manhattan_distance"]
      
    dimensional_correlation:
      enabled: true
      methods: ["pearson", "spearman"]
      
    hypothesis_testing:
      enabled: true
      tests: ["paired_t_test"]
      alpha: 0.05

  similarity_classification:
    thresholds:
      highly_similar:
        geometric_distance: 0.15
        correlation_threshold: 0.85
      moderately_similar:
        geometric_distance: 0.35
        correlation_threshold: 0.65
      statistically_different:
        geometric_distance: 0.50
        correlation_threshold: 0.40

validation_metrics:
  primary_correlation:
    target: "r > 0.80 with BYU manual coding"
    significance: "p < 0.05"

statistical_tests:
  - "Pearson correlation coefficient (vs manual coding)"

# ================================================================
# OUTPUT SPECIFICATIONS
# ================================================================
report_configuration:
  template_type: "statistical_comparison"
  
  visualization_strategy:
    model_summary_charts: true
    individual_text_charts: false
    statistical_summary_cards: true
    
  content_sections:
    - "executive_summary"
    - "methodology_overview"
    - "statistical_results"
    - "detailed_analysis"

deliverables:
  jupyter_notebook: "exp_01_core_replication_analysis.ipynb"
  required_outputs:
    statistical_validation:
      - "Correlation matrix with manual coding"
      - "Scatter plot with regression line vs manual scores"
    visualization_suite:
      - "Quadrant scatter plot (populism vs nationalism dimensions)"

# ================================================================
# RESOURCE ESTIMATION
# ================================================================
resource_estimation:
  # TESTING PHASE (current configuration)
  total_analyses: 24  # 12 speeches × 2 testing models
  estimated_total_cost: 0.084  # 12 × ($0.003 + $0.004) = ~$0.08
  estimated_duration_minutes: 10
  
  # FINAL VALIDATION PHASE (after testing success)
  # total_analyses: 36  # 12 speeches × 3 flagship models  
  # estimated_total_cost: 0.396  # 12 × ($0.015 + $0.018 + $0.000) = ~$0.40
  # estimated_duration_minutes: 20

# ================================================================
# QUALITY ASSURANCE
# ================================================================
quality_assurance:
  validation_checks:
    - "corpus_file_availability"
    - "model_api_connectivity"
    - "prompt_template_validation"

# ================================================================
# CROSS-REFERENCES
# ================================================================
related_documentation:
  - "BYU_MASTER_RESEARCH_PLAN.md"
  - "democratic_tension_axis_model_brazil_2018.yaml" 