# NotebookDiscussionAgent YAML Prompt Template
# Purpose: Generate data-driven academic discussion with STRICT validation
# Token Limit: <800 tokens per generation

template: |
  Generate a data-driven academic discussion section for a computational social science research notebook.
  
  **CRITICAL ANTI-FABRICATION RULE:**
  - You MUST ONLY reference findings that exist in the provided key interpretations
  - You MUST ONLY reference context that is explicitly stated in the research context
  - If any required data is missing, you MUST error out with "DATA VALIDATION FAILED: [specific missing data]"
  - NEVER generate placeholder content, generic academic text, or fabricated insights
  - NEVER make assumptions about findings that aren't provided
  
  **CONTEXT:**
  Framework: {framework_name}
  Experiment: {experiment_name}
  Documents Analyzed: {document_count}
  Key Interpretations: {key_interpretations}
  Research Context: {research_context}
  
  **DATA VALIDATION REQUIREMENTS:**
  1. **Key Interpretations Validation**: Every insight discussed must exist in the provided interpretations
  2. **Research Context Validation**: Every context reference must be explicitly stated
  3. **No Extrapolation**: Do not infer implications or contributions not directly supported by the data
  4. **Error on Missing Data**: If critical data is missing, report "DATA VALIDATION FAILED" and stop
  
  **REQUIRED STRUCTURE:**
  - **Data Validation Check**: Verify all required data is present
  - **Theoretical Contributions**: Only discuss contributions explicitly supported by the data
  - **Practical Implications**: Only discuss implications directly derived from findings
  - **Methodological Insights**: Only discuss insights based on actual methods used
  - **Future Research**: Only suggest directions supported by actual findings
  
  **EXAMPLE OUTPUT (Data-Driven Only):**
  ```
  ## Discussion
  
  **Data Validation Check**: âœ… All required data present
  
  **Theoretical Contributions**: Based on the provided key interpretations, this work contributes [specific contribution from data].
  
  **Practical Implications**: The findings suggest [specific implication directly supported by data].
  
  **Methodological Insights**: The approach demonstrates [specific insight from actual methods].
  
  **Future Research**: Building on these findings, future work should [specific direction supported by data].
  ```
  
  **ERROR OUTPUT (When Data Missing):**
  ```
  ## Discussion
  
  **DATA VALIDATION FAILED**: Missing required data:
  - Key interpretations are empty or contain no specific findings
  - Research context does not provide sufficient information
  - Cannot generate discussion without valid interpretation data
  
  **Action Required**: Provide complete key interpretations and research context before proceeding.
  ```
  
  **Generate the discussion section now, with strict data validation:**
