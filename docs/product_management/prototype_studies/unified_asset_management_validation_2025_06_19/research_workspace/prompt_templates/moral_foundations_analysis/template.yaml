# Moral Foundations Analysis Prompt Template
# Framework-agnostic template for analyzing moral foundations in text
# Compatible with: moral_foundations_theory, political_psychology frameworks
#
# Version: v1.0
# Created: 2025-06-19
# Type: Foundation-specific analysis

# =============================================================================
# TEMPLATE METADATA
# =============================================================================

name: moral_foundations_analysis
display_name: "Moral Foundations Analysis"
version: v1.0
template_type: foundation_analysis

description: |
  Framework-agnostic prompt template for analyzing moral foundations in text.
  Optimized for identifying and scoring moral reasoning patterns based on
  established moral psychology research. Works with any moral foundations
  framework implementation.

# =============================================================================
# FRAMEWORK COMPATIBILITY
# =============================================================================

compatible_frameworks:
  - moral_foundations_theory
  - political_psychology
  - haidt_mft
  - moral_reasoning

framework_requirements:
  type: dipoles_based
  foundation_structure: paired_opposites
  scoring_method: continuous_scale

# =============================================================================
# ANALYSIS CONFIGURATION
# =============================================================================

analysis_parameters:
  scoring_scale:
    min: 0.0
    max: 1.0
    precision: 0.1
    description: "Continuous scale from 0.0 (absent) to 1.0 (strongly present)"
  
  evidence_requirements:
    min_passages: 2
    max_passages: 4
    passage_length: "1-3 sentences"
    quote_style: "direct_quotes"
  
  confidence_reporting:
    required: true
    scale: "0.0-1.0"
    justification: "required"

# =============================================================================
# CORE PROMPT TEMPLATE
# =============================================================================

system_prompt: |
  You are an expert in moral psychology specializing in the systematic analysis 
  of moral foundations in text. Your role is to identify and quantify the presence 
  of moral reasoning patterns using established moral psychology frameworks.

  **ANALYSIS APPROACH:**
  
  1. **Foundation Identification**: Systematically scan the text for language and 
     concepts that activate specific moral foundations
  
  2. **Directional Assessment**: Determine whether the text emphasizes the positive 
     or negative pole of each foundation pair
  
  3. **Strength Quantification**: Score the intensity of each foundation's presence 
     using specific textual evidence
  
  4. **Evidence Documentation**: Provide direct quotes that support each foundation score

user_prompt_template: |
  Please analyze the following text for moral foundations presence. For each foundation 
  pair provided in the framework configuration, provide:

  **TEXT TO ANALYZE:**
  ```
  {text_content}
  ```

  **FRAMEWORK FOUNDATIONS:**
  {framework_foundations}

  **ANALYSIS REQUIRED:**

  For each foundation pair, provide:

  1. **Foundation Score** (0.0-1.0 scale):
     - Positive pole score: How strongly the positive aspect is present
     - Negative pole score: How strongly the negative aspect is present
     - Net direction: Overall tendency toward positive or negative pole

  2. **Evidence Passages** (2-4 direct quotes):
     - Quote the specific text that demonstrates this foundation
     - Explain how each passage relates to the moral foundation
     - Identify key words or phrases that activate foundation recognition

  3. **Confidence Assessment** (0.0-1.0 scale):
     - How confident are you in this foundation score?
     - What factors support or limit your confidence?

  **OUTPUT FORMAT:**
  ```yaml
  foundation_analysis:
    {foundation_name}:
      positive_pole:
        name: "{positive_name}"
        score: 0.0  # 0.0-1.0 scale
        evidence:
          - passage: "direct quote from text"
            explanation: "how this relates to {positive_name}"
          - passage: "another direct quote"
            explanation: "additional evidence explanation"
      negative_pole:
        name: "{negative_name}" 
        score: 0.0  # 0.0-1.0 scale
        evidence:
          - passage: "direct quote from text"
            explanation: "how this relates to {negative_name}"
      net_direction: "positive|negative|neutral"
      confidence: 0.0  # 0.0-1.0 confidence in this assessment
  ```

# =============================================================================
# SCORING GUIDELINES
# =============================================================================

scoring_guidelines:
  foundation_presence:
    "0.0": "Foundation completely absent from text"
    "0.1-0.3": "Minimal presence - weak or indirect references"
    "0.4-0.6": "Moderate presence - clear but not central to argument"  
    "0.7-0.9": "Strong presence - central to text's moral reasoning"
    "1.0": "Dominant presence - primary moral framework of text"
  
  evidence_quality:
    strong_evidence:
      - "Direct moral language from foundation vocabulary"
      - "Explicit value statements aligned with foundation"
      - "Clear advocacy for foundation-related positions"
    
    moderate_evidence:
      - "Implicit moral reasoning patterns"
      - "Contextual clues suggesting foundation activation"
      - "Policy positions that align with foundation values"
    
    weak_evidence:
      - "Ambiguous language that could relate to foundation"
      - "Indirect implications without clear connection"
      - "General statements without specific moral content"

  confidence_factors:
    high_confidence: "Clear, unambiguous foundation language with multiple supporting passages"
    medium_confidence: "Generally clear foundation presence with some supporting evidence"  
    low_confidence: "Ambiguous or limited evidence, uncertain foundation activation"

# =============================================================================
# QUALITY ASSURANCE
# =============================================================================

validation_checks:
  foundation_coverage:
    requirement: "Score all foundations provided in framework"
    validation: "Ensure no foundation pairs are omitted"
  
  evidence_sufficiency:
    requirement: "Minimum 2 evidence passages per non-zero foundation score"
    validation: "Check that evidence supports assigned scores"
  
  score_justification:
    requirement: "Foundation scores must align with evidence strength" 
    validation: "High scores require strong evidence, low scores require minimal evidence"
  
  confidence_calibration:
    requirement: "Confidence scores should reflect evidence quality"
    validation: "Low confidence for ambiguous cases, high confidence for clear cases"

# =============================================================================
# OUTPUT PROCESSING
# =============================================================================

output_format:
  primary: yaml
  structure: nested_foundations
  validation: schema_compliant
  
expected_fields:
  - foundation_analysis
  - foundation_scores
  - evidence_passages
  - confidence_scores
  - net_directions

post_processing:
  score_normalization: false  # Preserve original 0.0-1.0 scores
  evidence_validation: true   # Verify evidence passages exist in source text
  confidence_validation: true # Check confidence score reasonableness

# =============================================================================
# TEMPLATE VERSIONING
# =============================================================================

template_history:
  v1.0:
    date: "2025-06-19"
    changes: "Initial template creation for moral foundations analysis"
    compatibility: "moral_foundations_theory v2025.06.19"
    
validation_status: "Ready for production use"
academic_standard: "Moral psychology research compatible"
expert_review: "Prepared for academic consultation" 