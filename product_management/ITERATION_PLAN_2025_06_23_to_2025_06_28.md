# Iteration Plan: Foundational Refactoring & Pipeline Finalization
**Iteration Period:** June 23, 2025 ‚Äì June 28, 2025
**Status:** üöÄ **ACTIVE**

## 1. üéØ Top-Line Goals

This week, we transition from building core infrastructure to solidifying the platform's foundations for academic use and future extensibility. The primary focus is on two major refactoring initiatives‚ÄîTerminology and Visualization‚Äîwhile completing the integration of the production pipeline.

1.  **Execute Deep Terminology Refactor**: Systematically replace all legacy "gravity/well/dipole" language with the new cartographic "signature/anchor/axis" vocabulary across the entire codebase and all documentation.
2.  **Implement Extensible Cartography Layer**: Decouple visualization from the core API by building an adapter-based architecture. Ship three reference visualization adapters (Radar v2, UMAP, Parallel Coordinates).
3.  **Finalize Production Pipeline**: Complete the integration of all supporting modules (`validator`, `exporter`, `cost_manager`, etc.) into the main orchestrator, creating a true end-to-end academic validation workflow.

## 2. üìã Key Initiatives & Tasks

### A. Deep Terminology Refactor
*Owner: Core Dev Team*
- **Tracked by**: `product_management/strategy/ACTIONABLE - discernus_terminology_refactor_implementation_plan_v1.md`
- [ ] **Code Refactor**: Rename all classes, variables, and functions.
- [ ] **YAML Refactor**: Update all framework and experiment configuration files.
- [ ] **Tooling**: Implement and enforce a pre-commit linter to block legacy terms.
- [ ] **Deprecation**: Create a temporary alias module (`deprecated_terms.py`) to provide backward compatibility and log warnings, preventing breakage of legacy scripts.
- [ ] **Documentation**: Update all user-facing and internal docs to use the new lexicon.

### B. Extensible Cartography Implementation
*Owner: Frontend / API Team*
- **Tracked by**: `product_management/strategy/ACTIONABLE - discernus_extensible_cartography_plan.md`
- [ ] **API Decoupling**: Ensure `/coordinates` and `/export` endpoints return pure data (JSON/Arrow) without presentation logic.
- [ ] **Adapter SDK**: Finalize and publish the TypeScript `DiscernusAdapter` interface.
- [ ] **Reference Adapters**:
    - [ ] Implement Radar Chart v2 (D3.js).
    - [ ] Implement UMAP Scatterplot (Plotly/WebGL) with server-side caching.
    - [ ] Implement Parallel Coordinates Plot (Vega-Lite).
- [ ] **Plugin Architecture**: Build the React-based adapter loader and sandboxed iframe environment.

### C. Production Pipeline Finalization
*Owner: Platform / DevOps Team*
- **Tracked by**: `product_management/production_pipeline_upgrade_proposal.md`
- [ ] **Orchestrator Integration**: Modify `comprehensive_experiment_orchestrator.py` to call all required pre-flight, execution, and post-processing modules.
- [ ] **End-to-End Testing**: Run a full MFT validation experiment through the newly integrated pipeline.
- [ ] **Output Validation**: Verify that all outputs‚Äîstatistical results, visualizations, and the academic replication package‚Äîare generated correctly and are of high quality.
- [ ] **Analysis Quality**: Refine prompt templates and evidence extraction to push QA scores to >11/13 (HIGH confidence).

## 3. üèÜ Success Criteria for End of Week

**‚ö†Ô∏è REVISED PER MECEC RECONCILIATION** - See `MECEC_ACTIONABLE_RECONCILIATION_2025_06_22.md`

1.  **Core API terminology updated** - `/coordinates`, `/frameworks` use new terms (revised from full codebase)
2.  **API fully decoupled from visualization** - Data-only responses (maintained)
3.  **Radar v2 prototype functional** - Single reference adapter working (revised from full adapter ecosystem)
4.  **Full MFT experiment produces complete replication package** - With new terminology (maintained)
5.  **Key documentation updated** - README, strategy docs, onboarding (maintained)
6.  **Deprecation system active** - Backward compatibility maintained (added)

**Rationale:** Staged implementation approach resolves 12-week vs 1-week timeline conflict while maintaining academic validation timeline.

## 4. üö® Risks

- **Scope Creep**: The refactoring efforts could uncover deeper architectural issues.
    - **Mitigation**: Adhere strictly to the implementation plans. Log new issues in the backlog for future iterations; do not expand the scope of the current refactor.
- **Cascading Breakages**: The terminology refactor could break parts of the system in non-obvious ways.
    - **Mitigation**: Rely heavily on the comprehensive test suite and the temporary deprecation alias module to catch issues. Conduct thorough end-to-end testing. 