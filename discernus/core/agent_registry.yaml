agents:
  - name: AnalysisAgent
    archetype: Role-Playing
    module: "discernus.agents.analysis_agent"
    class: "AnalysisAgent"
    execution_method: "run_analysis"
    description: "The primary workhorse agent. Applies a given framework to corpus documents using the 'Show Your Work' pattern to produce verifiable analysis with numerical scores."
    prompt_source: "dynamic (receives framework and instructions from workflow state)"
    inputs:
      - project_path: "Path to the project directory containing corpus files"
      - analysis_agent_instructions: "Framework-based instructions for analysis"
      - experiment_config: "Configuration including models and run parameters"
      - session_id: "Session identifier for logging"
    outputs:
      - analysis_results: "A list of structured objects containing analysis text and verified scores."

  - name: StatisticalAnalysisAgent
    archetype: Tool-Using
    module: "discernus.agents.statistical_analysis_agent"
    class: "StatisticalAnalysisAgent"
    execution_method: "calculate_statistics"
    description: "Performs statistical calculations on structured analysis results and saves them to a file."
    prompt_source: "self-contained"
    inputs:
      - analysis_results: "A list of raw analysis results from the AnalysisAgent."
      - session_results_path: "The path to the results directory for the current session."
    outputs:
      - stats_file_path: "The path to the JSON file containing the statistical results."

  - name: StatisticalInterpretationAgent
    archetype: Tool-Using
    module: "discernus.agents.statistical_interpretation_agent"
    class: "StatisticalInterpretationAgent"
    execution_method: "interpret_statistical_results"
    description: "Translates raw JSON statistical output into a human-readable, qualitative interpretation suitable for an academic publication."
    prompt_source: "self-contained"
    inputs:
      - stats_file_path: "path to the raw statistical_analysis_results.json"
      - project_path: "path to the project directory for context"
    outputs:
      - interpretation_text: "A formatted markdown string containing the full interpretation."

  - name: ExperimentConclusionAgent
    archetype: Tool-Using
    module: "discernus.agents.experiment_conclusion_agent"
    class: "ExperimentConclusionAgent"
    execution_method: "generate_final_audit" # This generates the audit, a subsequent step would append it
    description: "Performs a final, holistic audit of all experiment artifacts (plan, framework, report, stats, logs) to write a concluding 'Methodological Audit' section."
    prompt_source: "self-contained"
    inputs:
      - project_path: "Path to the root of the experiment project."
      - report_file_path: "Path to the final report."
      - stats_file_path: "Path to the statistical results."
    outputs:
      - audit_text: "A markdown string containing the final methodological audit."

  - name: MethodologicalOverwatchAgent
    archetype: Tool-Using
    module: "discernus.agents.methodological_overwatch_agent"
    class: "MethodologicalOverwatchAgent"
    execution_method: "review_analysis_results"
    description: "Acts as a mid-flight quality control check, reviewing initial analysis results to decide if an experiment is methodologically sound enough to continue."
    prompt_source: "self-contained"
    inputs:
      - analysis_results: "A list of initial analysis result objects."
    outputs:
      - decision_json: "A JSON object with a 'decision' (PROCEED/TERMINATE) and a 'reason'."

  # Agents below are part of the initial validation phase, not typically part of the post-analysis workflow

  - name: EnsembleConfigurationAgent
    archetype: Tool-Using
    module: "discernus.agents.ensemble_configuration_agent"
    class: "EnsembleConfigurationAgent"
    execution_method: "assess_model_health"
    description: "Assesses the health of models specified in an experiment and provides intelligent recommendations (proceed, substitute, cancel)."
    prompt_source: "self-contained"
    inputs:
      - model_names: "A list of model identifiers to be checked."
    outputs:
      - health_assessment: "A JSON object detailing the health of each model and a recommended course of action."

  - name: StatisticalAnalysisConfigurationAgent
    archetype: Tool-Using
    module: "discernus.agents.statistical_analysis_configuration_agent"
    class: "StatisticalAnalysisConfigurationAgent"
    execution_method: "generate_statistical_plan"
    description: "Reads an experiment.md file and generates a structured statistical analysis plan."
    prompt_source: "self-contained"
    inputs:
      - experiment_path: "path to experiment.md"
    outputs:
      - statistical_plan: "A JSON object outlining the required statistical tests and parameters."

  - name: ExecutionPlannerAgent
    archetype: Tool-Using
    module: "discernus.agents.execution_planner_agent"
    class: "ExecutionPlannerAgent"
    execution_method: "create_execution_plan"
    description: "Generates a detailed execution plan, including API call counts, cost estimates, and time estimates."
    prompt_source: "self-contained"
    inputs:
      - corpus_files: "List of files in the corpus."
      - model_names: "List of models to be used."
      - framework_text: "The full text of the framework."
      - analysis_instructions: "The instructions for the analysis agents."
    outputs:
      - execution_plan: "A JSON object detailing the estimated cost, time, and steps for the experiment." 
      
  - name: ProjectCoherenceAnalyst
    archetype: Hybrid
    module: "discernus.agents.project_coherence_analyst"
    class: "ProjectCoherenceAnalyst"
    execution_method: "validate_project"
    description: "Acts as an intelligent research assistant, performing a holistic analysis of the project's framework, experiment, and corpus to ensure methodological coherence and readiness for execution."
    prompt_source: "self-contained"
    inputs:
      - project_path: "The path to the root of the project directory."
    outputs:
      - validation_result: "A comprehensive JSON object detailing the project's validity, including any warnings, errors, or proactive recommendations." 
      
  - name: DataExtractionAgent
    archetype: Tool-Using
    module: "discernus.agents.data_extraction_agent"
    class: "DataExtractionAgent"
    execution_method: "extract_tidy_data"
    description: "Parses a conversation.jsonl log file and extracts all structured analysis data (scores, metrics, classifications) into a single, tidy results.csv file, ready for statistical analysis."
    prompt_source: "n/a (deterministic tool)"
    inputs:
      - conversation_log_path: "The path to the raw conversation.jsonl file for the session."
      - output_csv_path: "The path where the final results.csv file should be written."
      - framework_content: "The full content of the framework.md, used to identify calculated metrics."
    outputs:
      - tidy_data_path: "The path to the generated results.csv file." 