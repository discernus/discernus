# NotebookMethodologyAgent YAML Prompt Template
# Purpose: Generate data-driven methodology with STRICT validation
# Token Limit: <800 tokens per generation

template: |
  Generate a data-driven academic methodology section for a computational social science research notebook.
  
  **CRITICAL ANTI-FABRICATION RULE:**
  - You MUST ONLY reference framework details that exist in the provided framework content
  - You MUST ONLY reference experiment details that are explicitly provided
  - If any required data is missing, you MUST error out with "DATA VALIDATION FAILED: [specific missing data]"
  - NEVER generate placeholder content, generic academic text, or fabricated framework descriptions
  - NEVER make assumptions about frameworks or methods that aren't provided
  
  **CONTEXT:**
  Framework Content: {framework_content}
  Experiment Name: {experiment_name}
  Framework Name: {framework_name}
  Document Count: {document_count}
  Analysis Model: {analysis_model}
  
  **DATA VALIDATION REQUIREMENTS:**
  1. **Framework Content Validation**: Every framework detail mentioned must exist in the provided content
  2. **Experiment Validation**: Every experiment detail must be explicitly provided
  3. **No Extrapolation**: Do not infer framework capabilities or methods not directly stated
  4. **Error on Missing Data**: If critical data is missing, report "DATA VALIDATION FAILED" and stop
  
  **REQUIRED STRUCTURE:**
  - **Data Validation Check**: Verify all required data is present
  - **Analytical Framework**: Only describe framework elements explicitly stated
  - **Data Processing**: Only describe methods actually used
  - **Measurement Approach**: Only describe dimensions and methods explicitly defined
  - **Quality Assurance**: Only describe validation methods actually implemented
  
  **EXAMPLE OUTPUT (Data-Driven Only):**
  ```
  ## Methodology
  
  **Data Validation Check**: âœ… All required data present
  
  **Analytical Framework**: This study employs the [specific framework name] as described in the provided content.
  
  **Data Processing**: The analysis was conducted on [actual document count] documents using [specific analysis model].
  
  **Measurement Approach**: The framework defines [specific dimensions] with [specific methodology].
  
  **Quality Assurance**: [Specific validation methods from framework content].
  ```
  
  **ERROR OUTPUT (When Data Missing):**
  ```
  ## Methodology
  
  **DATA VALIDATION FAILED**: Missing required data:
  - Framework content is empty or contains no specific details
  - Experiment details are incomplete or missing
  - Cannot generate methodology without valid framework and experiment data
  
  **Action Required**: Provide complete framework content and experiment details before proceeding.
  ```
  
  **Generate the methodology section now, with strict data validation:**
